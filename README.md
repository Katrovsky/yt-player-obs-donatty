# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è YouTube Player

–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –¥–ª—è —Å–µ–±—è –∏ –ø–æ–Ω–∞—á–∞–ª—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª–æ –º–∞–ª–µ–Ω—å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –∏–∑ —Ç—Ä—ë—Ö —Å–æ—Ç–µ–Ω —Å—Ç—Ä–æ–∫, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–∞—Å—å. –°–µ–π—á–∞—Å –∂–µ –ø—Ä–æ–¥–µ–ª–∞–Ω–æ –º–Ω–æ–≥–æ —Ç—Ä—É–¥–∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–Ω–æ —Å—Ç–∞–ª–æ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º, –∏ —è —Ö–æ—á—É –Ω–∞–¥—ë–∂–Ω–æ –µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.

## –ß—Ç–æ —ç—Ç–æ

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è YouTube –≤–∏–¥–µ–æ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ —Å—Ç—Ä–∏–º–µ, standalone-–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Ç–∞–∫–∏–º —Å–µ—Ä–≤–∏—Å–∞–º, –∫–∞–∫ Trula Music. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑—Ä–∏—Ç–µ–ª—è–º –¥–æ–±–∞–≤–ª—è—Ç—å –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–ª–∏–ø—ã –≤ –æ—á–µ—Ä–µ–¥—å, –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–Ω–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ Donatty, –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –æ–≤–µ—Ä–ª–µ–π –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ OBS.

**–í–∞–∂–Ω–æ:** –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å *–º—É–∑—ã–∫–∞–ª—å–Ω—ã–º–∏* –≤–∏–¥–µ–æ YouTube. –î—Ä—É–≥–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –Ω–µ –±—É–¥—É—Ç.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

1. **port** - –ø–æ—Ä—Ç –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
2. **youtube_api_key** - –∫–ª—é—á YouTube API

–ï—Å–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–º –Ω–µ –Ω—É–∂–Ω—ã, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏.

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `config.json`:

```json
{
  "port": 8093,
  "youtube_api_key": "–í–ê–®_–ö–õ–Æ–ß_YOUTUBE_API"
}
```

–° —Ç–∞–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –Ω–æ:

- –ù–µ –±—É–¥–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –¥–ª–∏–Ω—É –≤–∏–¥–µ–æ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- –ú—É–∑—ã–∫–∞ –∑–∞ –¥–æ–Ω–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç
- –ü–ª–µ–π–ª–∏—Å—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
- –û—á–µ—Ä–µ–¥—å –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫–æ–ª—å —É–≥–æ–¥–Ω–æ –±–æ–ª—å—à–æ–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–î–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ª—É—á—à–µ —É–∫–∞–∑–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

```json
{
  "port": 8093,
  "max_duration_minutes": 9,
  "min_views": 1000,
  "max_queue_size": 100,
  "youtube_api_key": "–í–ê–®_–ö–õ–Æ–ß_YOUTUBE_API"
}
```

### –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ü—Ä–∏–º–µ—Ä —Å–æ –≤—Å–µ–º–∏ –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```json
{
  "port": 8093,
  "max_duration_minutes": 9,
  "min_views": 1000,
  "repeat_limit": 3,
  "cleanup_after_hours": 48,
  "max_queue_size": 100,
  "donation_widget_url": "https://widgets.donatty.com/donations/?ref=–í–ê–®_REF&token=–í–ê–®_TOKEN",
  "donation_min_amount": 50,
  "youtube_api_key": "–í–ê–®_–ö–õ–Æ–ß_YOUTUBE_API",
  "fallback_playlist_url": "https://www.youtube.com/playlist?list=ID_–ü–õ–ï–ô–õ–ò–°–¢–ê"
}
```

## –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ config.json

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–ë–µ–∑ —ç—Ç–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

- **port** (—á–∏—Å–ª–æ) - –ø–æ—Ä—Ç –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 8093, –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–π —Å–≤–æ–±–æ–¥–Ω—ã–π.
- **youtube_api_key** (—Å—Ç—Ä–æ–∫–∞) - –∫–ª—é—á –¥–ª—è YouTube Data API v3, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –∑–¥–µ—Å—å: [–°–°–´–õ–ö–ê](https://developers.google.com/youtube/v3/getting-started) –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∏ —Ç.–¥.

### –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ç—Ä–µ–∫–∏

- **max_duration_minutes** (—á–∏—Å–ª–æ) - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –≤–∏–¥–µ–æ –≤ –º–∏–Ω—É—Ç–∞—Ö. 0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **min_views** (—á–∏—Å–ª–æ) - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —É –≤–∏–¥–µ–æ. 0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **repeat_limit** (—á–∏—Å–ª–æ) - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥ –º–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤–∏–¥–µ–æ. 0 = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é

- **cleanup_after_hours** (—á–∏—Å–ª–æ) - —á–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ —Ç—Ä–µ–∫–∏. 0 = –Ω–µ —É–¥–∞–ª—è—Ç—å. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0
- **max_queue_size** (—á–∏—Å–ª–æ) - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–∫–æ–≤ –≤ –æ—á–µ—Ä–µ–¥–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 100

#### –î–æ–Ω–∞—Ç—ã (Donatty)

- **donation_widget_url** (—Å—Ç—Ä–æ–∫–∞) - —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–∂–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π Donatty. –§–æ—Ä–º–∞—Ç: `https://widgets.donatty.com/donations/?ref=–í–ê–®_REF&token=–í–ê–®_TOKEN`
- **donation_min_amount** (—á–∏—Å–ª–æ) - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–æ–Ω–∞—Ç–∞ –≤ —Ä—É–±–ª—è—Ö –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–∫–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 50
  –ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —ç—Ç–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –¥–æ–Ω–∞—Ç—ã.

#### –ü–ª–µ–π–ª–∏—Å—Ç

- **fallback_playlist_url** (—Å—Ç—Ä–æ–∫–∞) - —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–ª–µ–π–ª–∏—Å—Ç YouTube, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏–≥—Ä–∞—Ç—å, –∫–æ–≥–¥–∞ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–Ω–∞—Ç–æ–≤ Donatty

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—É **[Donatty](https://donatty.com/)** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–∫–æ–≤ –∑–∞ –¥–æ–Ω–∞—Ç—ã.

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

1. –ó–∞–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç Donatty
2. –û—Ç–∫—Ä—ã—Ç—å —Ä–∞–∑–¥–µ–ª —Å –≤–∏–¥–∂–µ—Ç–∞–º–∏
3. –ù–∞–π—Ç–∏ –≤–∏–¥–∂–µ—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏–π "–ù–æ–≤—ã–π –¥–æ–Ω–∞—Ç"
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç–æ—Ç –≤–∏–¥–∂–µ—Ç
5. –í—Å—Ç–∞–≤–∏—Ç—å –≤ `donation_widget_url` –≤ config.json

**–í–∞–∂–Ω–æ:** –ù—É–∂–Ω–∞ –∏–º–µ–Ω–Ω–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–∂–µ—Ç **–æ–ø–æ–≤–µ—â–µ–Ω–∏–π**, –∞ –Ω–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤–∏–¥–∂–µ—Ç! –≠—Ç–∞ —Å—Å—ã–ª–∫–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ.

–ü—Ä–∏–º–µ—Ä —Å—Å—ã–ª–∫–∏:

<https://widgets.donatty.com/donations/?ref=409b60e8-8880-4e36-b6fd-0e8XXXXX9c69&token=8uOUSDcXXXXXXXXXXXXXXXlWWnh4yz>

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ó—Ä–∏—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–Ω–∞—Ç (–Ω–µ –º–µ–Ω—å—à–µ `donation_min_amount`)
2. –í —Å–æ–æ–±—â–µ–Ω–∏–∏ –¥–æ–Ω–∞—Ç–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ YouTube –∏–ª–∏ ID –≤–∏–¥–µ–æ
3. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤–∏–¥–µ–æ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –æ—á–µ—Ä–µ–¥—å
4. –¢—Ä–µ–∫–∏ –æ—Ç –¥–æ–Ω–∞—Ç–æ–≤ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –∏–≥—Ä–∞—é—Ç –ø–µ—Ä–≤—ã–º–∏

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫

1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `config.json` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (–º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `config.sample.json` –∏ —É–¥–∞–ª–∏—Ç—å `.sample` –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, –ø–æ—Å–ª–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª)
2. –ü–æ–ª–æ–∂–∏—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å:
   - **Windows:** –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ `yt-player.exe`
   - **–ö–æ–Ω—Å–æ–ª—å:** `./yt-player.exe`
4. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä –Ω–∞ `http://localhost:8093`

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å

–ß—Ç–æ–±—ã –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—Å–∫–∞–ª–∞—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ä–∞–±–æ—Ç–∞–ª–∞ –≤ —Ñ–æ–Ω–µ.

#### Windows (—á–µ—Ä–µ–∑ Servy)

1. –°–∫–∞—á–∞—Ç—å [Servy](https://github.com/aelassas/servy/releases/latest)
2. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏–≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è:

- –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
- –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É `yt-player.exe`
- –ü—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É (–∏–Ω–∞—á–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å–º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –ª–µ–∂–∞—Ç—å –≤ —Ç–æ–º –∂–µ –∫–∞—Ç–∞–ª–æ–≥–µ)
- –ü–æ–æ—á–µ—Ä—ë–¥–Ω–æ –Ω–∞–∂–º–∏—Ç–µ **Install**, **Start**

–í–æ–ø—Ä–æ—Å—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Servy –∑–¥–µ—Å—å –Ω–µ –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è.

#### Windows (NSSM)

1. –°–∫–∞—á–∞—Ç—å [NSSM](https://nssm.cc/download)

2. –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å `nssm.exe`

3. –û—Ç–∫—Ä—ã—Ç—å –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–º nssm.exe

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å:

   ```cmd
   nssm.exe install YouTubePlayer "C:\–ø—É—Ç—å\–∫\yt-player.exe"
   ```

5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:

   ```cmd
   nssm.exe set YouTubePlayer AppDirectory "C:\–ø—É—Ç—å\–∫\–ø–∞–ø–∫–µ"
   ```

6. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å:

   ```cmd
   nssm.exe start YouTubePlayer
   ```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `nssm.exe stop YouTubePlayer`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `nssm.exe restart YouTubePlayer`
- –£–¥–∞–ª–∏—Ç—å: `nssm.exe remove YouTubePlayer confirm`

#### Linux (systemd)

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —è –Ω–∞–ø–∏—Å–∞–ª —Å–∫—Ä–∏–ø—Ç [systemd_service_creator.sh](https://github.com/Katrovsky/notes/blob/main/systemd_service_creator.sh).
–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `-h`

–ö—Ä–∞—Ç–∫–∏–π –ø—Ä–∏–º–µ—Ä:

```bash
./systemd_service_creator.sh ./yt-player --name yt-player --config /path/to/config.json 
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–∫—Ä–∏–ø—Ç —Å–∫–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ –ø—É—Ç–∏ `/opt/yt-player`, —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª —é–Ω–∏—Ç–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å.
–ï—Å–ª–∏ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å, –æ–Ω –±—É–¥–µ—Ç –Ω–∞–∑–≤–∞–Ω –ø–æ –∏–º–µ–Ω–∏ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞.

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: `sudo systemctl status yt-player.service`
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `sudo systemctl stop yt-player.service`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `sudo systemctl restart yt-player.service`
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏: `sudo journalctl -u yt-player.service -f`

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å - <http://localhost:8093>

–û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –¢—Ä–∏ –∫–æ–ª–æ–Ω–∫–∏:

**–õ–µ–≤–∞—è:**

- –ü–æ–ª–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–∫–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–∞

**–¶–µ–Ω—Ç—Ä:**

- –¢–µ–∫—É—â–∏–π —Ç—Ä–µ–∫
- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û—á–µ—Ä–µ–¥—å —Ç—Ä–µ–∫–æ–≤

**–ü—Ä–∞–≤–∞—è:**

- –¢—Ä–µ–∫–∏ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞

### –û–≤–µ—Ä–ª–µ–π –¥–ª—è OBS - <http://localhost:8093/overlay>

–ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä–æ–º –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ OBS.

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≤ OBS:**

1. –í OBS —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ ‚Üí Browser
2. –í –ø–æ–ª–µ URL –≤—Å—Ç–∞–≤–∏—Ç—å: `http://localhost:8093/overlay`
3. –†–∞–∑–º–µ—Ä: —à–∏—Ä–∏–Ω–∞ 400, –≤—ã—Å–æ—Ç–∞ 225 (–º–æ–∂–Ω–æ –±–æ–ª—å—à–µ, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ 16:9)
4. –ü–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É "Shutdown source when not visible"
5. –ü–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫—É "Refresh browser when scene becomes active"
6. –ù–∞–∂–∞—Ç—å OK

> –í–ê–ñ–ù–û! –ï—Å–ª–∏ –ø–ª–µ–µ—Ä –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç, –∏—Å—Ç–æ—á–Ω–∏–∫ –±—É–¥–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º, –≤—ã –Ω–µ –±—É–¥–µ—Ç–µ –≤–∏–¥–µ—Ç—å –æ–∫–Ω–æ –ø–ª–µ–µ—Ä–∞. –≠—Ç–æ –≤ –∫–æ–¥–µ –æ–≤–µ—Ä–ª–µ—è, –∞ –Ω–µ –≤ OBS.
> –ï—Å–ª–∏ –≤—ã —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∏ —Ç—Ä–µ–∫, –∞ –ø–æ—Ç–æ–º —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫, –æ–Ω –Ω–µ –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —Å—Ä–∞–∑—É, –æ—á–µ—Ä—ë–¥–Ω–æ—Å—Ç—å –≤—Å–µ–≥–¥–∞ —Ç–∞–∫–æ–≤–∞: –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—ã –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—Ä–µ–∫ –ø–æ—Å–ª–µ –µ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å—Ü–µ–Ω—É. –ï—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫, –∞ –ø–æ—Ç–æ–º –∑–∞–ø—É—Å—Ç–∏–ª–∏ —Ç—Ä–µ–∫, –æ–Ω –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —Å—Ä–∞–∑—É.

### –î–æ–∫-–ø–∞–Ω–µ–ª—å –¥–ª—è OBS - <http://localhost:8093/dock>

–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤ OBS –∫–∞–∫ Custom Browser Dock.

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≤ OBS:**

1. –í OBS –æ—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é View (–í–∏–¥) ‚Üí Docks (–ü–∞–Ω–µ–ª–∏) ‚Üí Custom Browser Docks (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–∞–Ω–µ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞)
2. –í –ø–æ–ª–µ "Dock Name" –Ω–∞–ø–∏—Å–∞—Ç—å `YouTube Player` –∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è –ø–æ –≤–∫—É—Å—É.
3. –í –ø–æ–ª–µ "URL" –≤—Å—Ç–∞–≤–∏—Ç—å: `http://localhost:8093/dock`
4. –ù–∞–∂–∞—Ç—å "Apply"
5. –ü–∞–Ω–µ–ª—å –ø–æ—è–≤–∏—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤ OBS

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**

- –¢–µ–∫—É—â–∏–π —Ç—Ä–µ–∫
- –°–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫
- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø—Ä–µ–¥—ã–¥—É—â–∏–π, –∏–≥—Ä–∞—Ç—å/–ø–∞—É–∑–∞, —Å–ª–µ–¥—É—é—â–∏–π)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–ª–∞—Ç–Ω—ã–µ/–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ/–≤—Å–µ–≥–æ —Ç—Ä–µ–∫–æ–≤)

–≠—Ç—É –ø–∞–Ω–µ–ª—å –º–æ–∂–Ω–æ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∫ –ª—é–±–æ–º—É –∫—Ä–∞—é OBS –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–≤–∞—é—â–∏–º –æ–∫–Ω–æ–º.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É YouTube (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://www.youtube.com/watch?v=dQw4w9WgXcQ`)
2. –í—Å—Ç–∞–≤–∏—Ç—å –≤ –ø–æ–ª–µ "YouTube URL or Video ID"
3. –ú–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∏–º—è –≤ –ø–æ–ª–µ "Username"
4. –ù–∞–∂–∞—Ç—å "Add to Queue"

–ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ ID –≤–∏–¥–µ–æ (11 —Å–∏–º–≤–æ–ª–æ–≤), –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ª–Ω—É—é —Å—Å—ã–ª–∫—É.

### –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- **Play/Pause** - –±–æ–ª—å—à–∞—è –∫–Ω–æ–ø–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ
- **Previous** - —Å—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ
- **Next** - —Å—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ
- **Remove** - –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —É –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–∫–∞
- **Clear All** - –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –æ—á–µ—Ä–µ–¥—å (–Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —É–∂–µ –ø—Ä–æ–∏–≥—Ä–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏)

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

–†–∞–±–æ—Ç–∞—é—Ç, –∫–æ–≥–¥–∞ —Ñ–æ–∫—É—Å –Ω–µ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞:

- **–ü—Ä–æ–±–µ–ª** - –ø–∞—É–∑–∞/–∏–≥—Ä–∞—Ç—å
- **‚Üí** - —Å–ª–µ–¥—É—é—â–∏–π
- **‚Üê** - –ø—Ä–µ–¥—ã–¥—É—â–∏–π

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–º

**–ó–∞–≥—Ä—É–∑–∫–∞:**

1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –ø–ª–µ–π–ª–∏—Å—Ç–∞ YouTube
2. –í—Å—Ç–∞–≤–∏—Ç—å –≤ –ø–æ–ª–µ "Playlist URL"
3. –ù–∞–∂–∞—Ç—å "Set Playlist"
4. –ü–æ–¥–æ–∂–¥–∞—Ç—å (–µ—Å–ª–∏ —Ç—Ä–µ–∫–æ–≤ –º–Ω–æ–≥–æ - –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è)

**–ö–Ω–æ–ø–∫–∏:**

- **Enable** - –≤–∫–ª—é—á–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç (–Ω–∞—á–Ω—ë—Ç –∏–≥—Ä–∞—Ç—å –∫–æ–≥–¥–∞ –æ—á–µ—Ä–µ–¥—å –∫–æ–Ω—á–∏—Ç—Å—è)
- **Disable** - –≤—ã–∫–ª—é—á–∏—Ç—å
- **Reload** - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤
- **Shuffle** - –ø–µ—Ä–µ–º–µ—à–∞—Ç—å —Ç—Ä–µ–∫–∏

–°–ø—Ä–∞–≤–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —Ç—Ä–µ–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–∞. –ö–ª–∏–∫ –ø–æ —Ç—Ä–µ–∫—É ‚Üí —Å—Ä–∞–∑—É –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –Ω–µ–≥–æ.

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞–¥ –æ—á–µ—Ä–µ–¥—å—é:**

- Total Played - —Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–∫–æ–≤ –ø—Ä–æ–∏–≥—Ä–∞–Ω–æ
- Paid Tracks - —Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–∫–æ–≤ –æ—Ç –¥–æ–Ω–∞—Ç–æ–≤
- Playlist Tracks - —Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–∫–æ–≤ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞
- Donation Monitor - —Ä–∞–±–æ—Ç–∞—é—Ç –ª–∏ –¥–æ–Ω–∞—Ç—ã

**–ú–µ—Ç–∫–∏ –Ω–∞ —Ç—Ä–µ–∫–∞—Ö:**

- üü¢ –ó–µ–ª—ë–Ω–∞—è —Ä–∞–º–∫–∞ - –∏–≥—Ä–∞–µ—Ç —Å–µ–π—á–∞—Å
- üü° –ó–æ–ª–æ—Ç–∞—è –ø–æ–ª–æ—Å–∫–∞ - –æ—Ç –¥–æ–Ω–∞—Ç–∞
- üîµ –°–∏–Ω—è—è –ø–æ–ª–æ—Å–∫–∞ - –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞
- üëª –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π - —É–∂–µ –ø—Ä–æ–∏–≥—Ä–∞–Ω

## API –¥–ª—è –ø–æ–≥—Ä–æ–º–∏—Å—Ç–æ–≤

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º

```bash
# –ò–≥—Ä–∞—Ç—å
curl -X POST http://localhost:8093/api/play

# –ü–∞—É–∑–∞
curl -X POST http://localhost:8093/api/pause

# –°—Ç–æ–ø
curl -X POST http://localhost:8093/api/stop

# –°–ª–µ–¥—É—é—â–∏–π
curl -X POST http://localhost:8093/api/next

# –ü—Ä–µ–¥—ã–¥—É—â–∏–π
curl -X POST http://localhost:8093/api/previous
```

### –û—á–µ—Ä–µ–¥—å

```bash
# –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–∫
curl -X POST "http://localhost:8093/api/add-url?url=–°–°–´–õ–ö–ê&user=–ò–ú–Ø"

# –î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Ç–Ω—ã–π —Ç—Ä–µ–∫
curl -X POST "http://localhost:8093/api/add-url?url=–°–°–´–õ–ö–ê&user=–ò–ú–Ø&paid=true"

# –ü–æ–ª—É—á–∏—Ç—å –æ—á–µ—Ä–µ–¥—å
curl -X GET http://localhost:8093/api/queue

# –£–¥–∞–ª–∏—Ç—å —Ç—Ä–µ–∫ (index –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0)
curl -X POST "http://localhost:8093/api/remove?index=0"

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
curl -X POST http://localhost:8093/api/clear
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–º —á–µ—Ä–µ–∑ API

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å
curl -X POST "http://localhost:8093/api/playlist/set?url=–°–°–´–õ–ö–ê"

# –í–∫–ª—é—á–∏—Ç—å
curl -X POST http://localhost:8093/api/playlist/enable

# –í—ã–∫–ª—é—á–∏—Ç—å
curl -X POST http://localhost:8093/api/playlist/disable

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å
curl -X POST http://localhost:8093/api/playlist/reload

# –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤
curl -X GET http://localhost:8093/api/playlist/tracks

# –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ç—Ä–µ–∫—É
curl -X POST "http://localhost:8093/api/playlist/jump?index=5"

# –ü–µ—Ä–µ–º–µ—à–∞—Ç—å
curl -X POST http://localhost:8093/api/playlist/shuffle
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

```bash
# –°—Ç–∞—Ç—É—Å
curl -X GET http://localhost:8093/api/status

# –ß—Ç–æ –∏–≥—Ä–∞–µ—Ç
curl -X GET http://localhost:8093/api/nowplaying

# –°—Ç–∞—Ç—É—Å –¥–æ–Ω–∞—Ç–æ–≤
curl -X GET http://localhost:8093/api/donation/status
```

### WebSocket

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

```javascript
const ws = new WebSocket('ws://localhost:8093/ws');

ws.onopen = () => console.log('–ü–æ–¥–∫–ª—é—á–µ–Ω–æ');

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  // data.action - playing/paused/stopped
  // data.current - —Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫
  // data.queue - –≤—Å—è –æ—á–µ—Ä–µ–¥—å
  // data.position - –ø–æ–∑–∏—Ü–∏—è
};

ws.onclose = () => {
  console.log('–û—Ç–∫–ª—é—á–µ–Ω–æ, –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫');
  setTimeout(() => connectWebSocket(), 3000);
};
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ù–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å config.json (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π JSON)
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ—Ä—Ç —Å–≤–æ–±–æ–¥–µ–Ω
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å youtube_api_key

### –¢—Ä–µ–∫–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å youtube_api_key
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (max_duration_minutes, min_views)
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–∏–¥–µ–æ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–µ (–ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –º—É–∑—ã–∫–æ–π)

### –î–æ–Ω–∞—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å donation_widget_url (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ref –∏ token)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å donation_min_amount
- –í –¥–æ–Ω–∞—Ç–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Å—ã–ª–∫–∞ YouTube
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞

### –ü–ª–µ–π–ª–∏—Å—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å youtube_api_key
- –ü–ª–µ–π–ª–∏—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º –∏–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ
- –ï—Å–ª–∏ —Ç—Ä–µ–∫–æ–≤ –º–Ω–æ–≥–æ - –ø–æ–¥–æ–∂–¥–∞—Ç—å (–º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –æ–∫–æ–ª–æ –º–∏–Ω—É—Ç—ã)

### –í OBS –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–∏–¥–µ–æ

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `http://localhost:8093/overlay` (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ—Ä—Ç–∞)
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —á—Ç–æ-—Ç–æ –∏–≥—Ä–∞–µ—Ç (–æ–≤–µ—Ä–ª–µ–π –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏)
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ (–ü–ö–ú ‚Üí Refresh)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç—Ä–µ–∫–æ–≤

–ü–æ—Ä—è–¥–æ–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:

1. üü° –ü–ª–∞—Ç–Ω—ã–µ —Ç—Ä–µ–∫–∏ (–æ—Ç –¥–æ–Ω–∞—Ç–æ–≤) - –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–µ
2. ‚ö™ –û–±—ã—á–Ω—ã–µ —Ç—Ä–µ–∫–∏
3. üîµ –ü–ª–µ–π–ª–∏—Å—Ç (–∫–æ–≥–¥–∞ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞

–ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω `cleanup_after_hours`, –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–∑ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Ç—Ä–µ–∫–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–∏.

### –ì–æ—Ä—è—á–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ config.json –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–µ –Ω—É–∂–µ–Ω.

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–æ–≤

–ü—Ä–∏ `repeat_limit > 0` –æ–¥–Ω–æ –≤–∏–¥–µ–æ –Ω–µ —Å–º–æ–∂–µ—Ç –∏–≥—Ä–∞—Ç—å —á–∞—â–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Ä–∞–∑ –ø–æ–¥—Ä—è–¥.

### –ö—ç—à

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫—ç—à–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∏–¥–µ–æ, —á—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å –ª–∏—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ YouTube API. –ö—ç—à —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ (–¥–æ 100 –≤–∏–¥–µ–æ).

## –ö–∞–∫ –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å –º—É–∑—ã–∫—É –∑–∞ –±–∞–ª–ª—ã?

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–≥—Ä–∞–¥ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–æ–≤ —Ç–∏–ø–∞ [streamerbot](https://streamer.bot/) –∏–ª–∏ [Firebot](https://firebot.app/) (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç). –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Firebot –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ Telegram-–∫–∞–Ω–∞–ª [Key Twitch](https://t.me/KeyTwitch), —è –∏—Å–ø–æ–ª—å–∑—É—é —Ç–æ–ª—å–∫–æ –µ–≥–æ.

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã

![Dashboard](dashboard.png)
![OBS Dock](dock.png)
